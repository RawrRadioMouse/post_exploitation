# the purpose of this document is to take someone who is doing a HTB/whatever AD challenge with little to no knowledge of AD, and bring them up to a level wherein they can start operating impacket and _know what they are doing_

*Kerberos* = MUTUAL client-server authentication protocol. Both parties must auth to each other. 
  * Uses 3rd party authentication (TGS) to 
  * client request TGT from TGS > KDC verifies and sends TGT > client stores TGT until expiry, local session manager grabs another one > client sends TGT to TGS with SPN of resource client wants to access > TGS says OK M8 ands sends valid session key for the resource to client > client forwards session key to service 

*NTLM* = Challenge-response authentication protocol. The domain resource (PC, DC) challenge the password and store the hash for future use.
  * Can be hacked in a trivial amount of time  

*TGS* = Ticket Granting Server (used by kerberos as a trusted 3rd party to validate tickets for purpose)  

*TGT* = [Ticket to Get Ticket](https://doubleoctopus.com/security-wiki/authentication/ticket-granting-tickets/) (created by the kerberos KDC to request ANOTHER ticket to grant specific domain resource access)  

*SPN* = Service Principal Name (used by kerberos to associate service instance to a service logon account - a SPN can be used to authenticate a service account)  
  * To get SPNs you need an authenticated domain account:  
  * > `impacket-GetUserSPNs -request -dc-ip <dc_ip> <domain>/<username>:<password> -outputfile spn.txt`  

*Golden Ticket* = Remember Charlie and the Chocolate factory? me neither. But anyway this ticket gives you the grand tour: computers, files, folders, and most importantly, the access control system itself. This works because you control the component of the access control system that is responsible for issuing TGTs, and thus can issue access to any domain resource  

*Silver Ticket* = A forged service auth ticket. Created by cracking a comuter account PW and creating a fake auth ticket
  * stealthier than golden tickets as no interaction srevice and DC, all logging is local
  * initially has low-level access (CIFS, Windows Firewall, print spooler) but can be elevated in many was, eg local enumeration or pass-the-ticket technique)  

